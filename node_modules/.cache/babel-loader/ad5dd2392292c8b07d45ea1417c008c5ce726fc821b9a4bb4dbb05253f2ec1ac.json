{"ast":null,"code":"import*as React from\"react\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import{getIpList}from\"../../services/iptable\";import LinearProgress from\"@mui/material/LinearProgress\";import EditIp from\"../dashboard/EditIp\";import CreateIp from\"../dashboard/CreateIp\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function TableIPManagement(){const[isLoading,setIsLoading]=React.useState(false);const[rows,setRows]=React.useState([]);React.useEffect(()=>{async function fetchData(){setIsLoading(true);const rows=await getIpList();setRows(rows);setIsLoading(false);}fetchData();},[]);async function fetchIpData(){setIsLoading(true);const rows=await getIpList();setRows(rows);setIsLoading(false);}const formatDate=date=>{let objectDate=new Date(date);return objectDate.toLocaleString(\"en-UK\",{day:\"numeric\",// numeric, 2-digit\nmonth:\"short\",// numeric, 2-digit, long, short, narrow\nyear:\"numeric\",// numeric, 2-digit\nhour:\"2-digit\",minute:\"2-digit\"});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",margin:\"-20px 0 16px\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,opacity:0.84},children:\"Dashboard\"}),/*#__PURE__*/_jsx(CreateIp,{fetchData:fetchIpData})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Id.\"}),/*#__PURE__*/_jsx(TableCell,{children:\"IP\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Created By\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Created At\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Updated At\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:\"Edit\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[rows.map(row=>/*#__PURE__*/_jsxs(TableRow,{sx:{\"&:last-child td, &:last-child th\":{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.id}),/*#__PURE__*/_jsx(TableCell,{children:row.ip}),/*#__PURE__*/_jsx(TableCell,{children:row.label}),/*#__PURE__*/_jsx(TableCell,{children:row.created_by}),/*#__PURE__*/_jsx(TableCell,{children:formatDate(row.create_time)}),/*#__PURE__*/_jsx(TableCell,{children:formatDate(row.update_time)}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(EditIp,{label:row.label,id:row.id,fetchData:fetchIpData})})]},row.id)),isLoading&&/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:7,children:/*#__PURE__*/_jsx(LinearProgress,{})})})]})]})})]});}","map":{"version":3,"names":["React","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","getIpList","LinearProgress","EditIp","CreateIp","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TableIPManagement","isLoading","setIsLoading","useState","rows","setRows","useEffect","fetchData","fetchIpData","formatDate","date","objectDate","Date","toLocaleString","day","month","year","hour","minute","children","style","display","justifyContent","alignItems","margin","opacity","component","sx","minWidth","align","map","row","border","scope","id","ip","label","created_by","create_time","update_time","colSpan"],"sources":["/Users/technical/AD_AUS/code/ip-management/src/components/common/TableIPManagement.jsx"],"sourcesContent":["import * as React from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { getIpList } from \"../../services/iptable\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\nimport EditIp from \"../dashboard/EditIp\";\nimport CreateIp from \"../dashboard/CreateIp\";\n\nexport default function TableIPManagement() {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [rows, setRows] = React.useState([]);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      setIsLoading(true);\n      const rows = await getIpList();\n      setRows(rows);\n      setIsLoading(false);\n    }\n    fetchData();\n  }, []);\n\n  async function fetchIpData() {\n    setIsLoading(true);\n    const rows = await getIpList();\n    setRows(rows);\n    setIsLoading(false);\n  }\n\n  const formatDate = (date) => {\n    let objectDate = new Date(date);\n\n    return objectDate.toLocaleString(\"en-UK\", {\n      day: \"numeric\", // numeric, 2-digit\n      month: \"short\", // numeric, 2-digit, long, short, narrow\n      year: \"numeric\", // numeric, 2-digit\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n  return (\n    <>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          margin: \"-20px 0 16px\",\n        }}\n      >\n        <h1 style={{ margin: 0, opacity: 0.84 }}>Dashboard</h1>\n        <CreateIp fetchData={fetchIpData} />\n      </div>\n      <TableContainer component={Paper}>\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Id.</TableCell>\n              <TableCell>IP</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell>Created By</TableCell>\n              <TableCell>Created At</TableCell>\n              <TableCell>Updated At</TableCell>\n              <TableCell align=\"center\">Edit</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <TableRow\n                key={row.id}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.id}\n                </TableCell>\n                <TableCell>{row.ip}</TableCell>\n                <TableCell>{row.label}</TableCell>\n                <TableCell>{row.created_by}</TableCell>\n                <TableCell>{formatDate(row.create_time)}</TableCell>\n                <TableCell>{formatDate(row.update_time)}</TableCell>\n                <TableCell align=\"center\">\n                  <EditIp\n                    label={row.label}\n                    id={row.id}\n                    fetchData={fetchIpData}\n                  />\n                </TableCell>\n              </TableRow>\n            ))}\n            {isLoading && (\n              <TableRow>\n                <TableCell colSpan={7}>\n                  <LinearProgress />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}