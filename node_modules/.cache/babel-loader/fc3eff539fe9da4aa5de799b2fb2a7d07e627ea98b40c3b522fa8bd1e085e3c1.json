{"ast":null,"code":"import*as React from\"react\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import TableCell from\"@mui/material/TableCell\";import TableContainer from\"@mui/material/TableContainer\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Paper from\"@mui/material/Paper\";import{getAuditList}from\"../../services/audit\";import LinearProgress from\"@mui/material/LinearProgress\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AuditTable(){const[isLoading,setIsLoading]=React.useState(false);const[rows,setRows]=React.useState([]);React.useEffect(()=>{async function fetchData(){setIsLoading(true);const rows=await getAuditList();setRows(rows);setIsLoading(false);}fetchData();},[]);const formatDate=date=>{let objectDate=new Date(date);return objectDate.toLocaleString(\"en-UK\",{day:\"numeric\",// numeric, 2-digit\nmonth:\"short\",// numeric, 2-digit, long, short, narrow\nyear:\"numeric\",// numeric, 2-digit\nhour:\"2-digit\",minute:\"2-digit\"});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:40},children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginTop:-20,opacity:0.84},children:\"Audit log\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{sx:{minWidth:650},\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"User Email\"}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Label\"}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Action\"}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:\"Time\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[rows.map(row=>/*#__PURE__*/_jsxs(TableRow,{sx:{\"&:last-child td, &:last-child th\":{border:0}},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:row.user}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.label}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:row.action}),/*#__PURE__*/_jsx(TableCell,{align:\"left\",children:formatDate(row.created_at)})]},row.name)),isLoading&&/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:7,children:/*#__PURE__*/_jsx(LinearProgress,{})})})]})]})})]});}","map":{"version":3,"names":["React","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","getAuditList","LinearProgress","jsx","_jsx","jsxs","_jsxs","AuditTable","isLoading","setIsLoading","useState","rows","setRows","useEffect","fetchData","formatDate","date","objectDate","Date","toLocaleString","day","month","year","hour","minute","style","padding","children","marginTop","opacity","component","sx","minWidth","align","map","row","border","scope","user","label","action","created_at","name","colSpan"],"sources":["/Users/technical/AD_AUS/code/ip-management/src/components/audit/index.jsx"],"sourcesContent":["import * as React from \"react\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Paper from \"@mui/material/Paper\";\nimport { getAuditList } from \"../../services/audit\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nexport default function AuditTable() {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [rows, setRows] = React.useState([]);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      setIsLoading(true);\n      const rows = await getAuditList();\n      setRows(rows);\n      setIsLoading(false);\n    }\n    fetchData();\n  }, []);\n\n  const formatDate = (date) => {\n    let objectDate = new Date(date);\n\n    return objectDate.toLocaleString(\"en-UK\", {\n      day: \"numeric\", // numeric, 2-digit\n      month: \"short\", // numeric, 2-digit, long, short, narrow\n      year: \"numeric\", // numeric, 2-digit\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  return (\n    <div style={{ padding: 40 }}>\n      <h1 style={{ marginTop: -20, opacity: 0.84 }}>Audit log</h1>\n      <TableContainer component={Paper}>\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>User Email</TableCell>\n              <TableCell align=\"left\">Label</TableCell>\n              <TableCell align=\"left\">Action</TableCell>\n              <TableCell align=\"left\">Time</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.map((row) => (\n              <TableRow\n                key={row.name}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.user}\n                </TableCell>\n                <TableCell align=\"left\">{row.label}</TableCell>\n                <TableCell align=\"left\">{row.action}</TableCell>\n                <TableCell align=\"left\">{formatDate(row.created_at)}</TableCell>\n              </TableRow>\n            ))}\n            {isLoading && (\n              <TableRow>\n                <TableCell colSpan={7}>\n                  <LinearProgress />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}