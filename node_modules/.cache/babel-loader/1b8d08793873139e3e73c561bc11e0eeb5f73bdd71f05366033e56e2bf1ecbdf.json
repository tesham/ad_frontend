{"ast":null,"code":"import{Box,Button,Container,Typography,TextField}from\"@mui/material\";import React,{useState}from\"react\";import{login}from\"../../services/login\";import CircularProgress from\"@mui/material/CircularProgress\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function LoginUser(){const navigate=useNavigate();const[formValues,setFormValues]=useState({email:\"\",password:\"\"});const[loading,setLoading]=useState(false);const getData=e=>{const{value,name}=e.target;setFormValues(()=>{return{...formValues,[name]:value};});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",sx:{bgcolor:\"rgba(255,255,255,0.8)\",borderRadius:2},children:/*#__PURE__*/_jsxs(Box,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",type:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:getData,sx:{bgcolor:\"white\"}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:getData,sx:{bgcolor:\"white\"}}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2,textTransform:\"none\"},onClick:async e=>{e.preventDefault();try{setLoading(true);const token=await login({username:formValues.email,password:formValues.password});console.log(token);localStorage.setItem(\"ip-tokens-access\",token.access);localStorage.setItem(\"ip-tokens-refresh\",token.refresh);navigate(\"/\");}catch(e){}finally{setLoading(false);}},children:[!loading&&/*#__PURE__*/_jsx(\"span\",{children:\"Sign In\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{sx:{mx:2},size:20,color:\"info\"})]})]})]})})});}export default LoginUser;","map":{"version":3,"names":["Box","Button","Container","Typography","TextField","React","useState","login","CircularProgress","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginUser","navigate","formValues","setFormValues","email","password","loading","setLoading","getData","e","value","name","target","children","component","maxWidth","sx","bgcolor","borderRadius","p","variant","margin","required","fullWidth","id","type","label","autoComplete","autoFocus","onChange","mt","mb","textTransform","onClick","preventDefault","token","username","console","log","localStorage","setItem","access","refresh","mx","size","color"],"sources":["/Users/technical/AD_AUS/code/ip-management/src/components/login/LoginUser.jsx"],"sourcesContent":["import { Box, Button, Container, Typography, TextField } from \"@mui/material\";\nimport React, { useState } from \"react\";\nimport { login } from \"../../services/login\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction LoginUser() {\n  const navigate = useNavigate();\n  const [formValues, setFormValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  const getData = (e) => {\n    const { value, name } = e.target;\n    setFormValues(() => {\n      return {\n        ...formValues,\n        [name]: value,\n      };\n    });\n  };\n\n  return (\n    <>\n      <Container\n        component=\"main\"\n        maxWidth=\"xs\"\n        sx={{ bgcolor: \"rgba(255,255,255,0.8)\", borderRadius: 2 }}\n      >\n        <Box sx={{ p: 4 }}>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign In\n          </Typography>\n          <Box component=\"form\">\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              type=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              onChange={getData}\n              sx={{ bgcolor: \"white\" }}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={getData}\n              sx={{ bgcolor: \"white\" }}\n            />\n\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{\n                mt: 3,\n                mb: 2,\n                textTransform: \"none\",\n              }}\n              onClick={async (e) => {\n                e.preventDefault();\n                try {\n                  setLoading(true);\n                  const token = await login({\n                    username: formValues.email,\n                    password: formValues.password,\n                  });\n                  console.log(token);\n                  localStorage.setItem(\"ip-tokens-access\", token.access);\n                  localStorage.setItem(\"ip-tokens-refresh\", token.refresh);\n                  navigate(\"/\");\n                } catch (e) {\n                } finally {\n                  setLoading(false);\n                }\n              }}\n            >\n              {!loading && <span>Sign In</span>}\n              {loading && (\n                <CircularProgress sx={{ mx: 2 }} size={20} color=\"info\" />\n              )}\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </>\n  );\n}\n\nexport default LoginUser;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}